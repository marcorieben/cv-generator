{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "prompt_id": "PDF_TO_JSON_V1.3",
  "version": "1.3",
  "description": "Extraktionsschema für CVs gemäss PDF_TO_JSON_V1.3. Es dürfen ausschliesslich Felder verwendet werden, die in diesem Schema definiert sind.",
  "rules": {
    "no_invention": true,
    "mark_missing": "! bitte prüfen !",
    "max_reference_project_bullets": 5,
    "language_levels": {
      "5": "Muttersprache",
      "4": "Verhandlungssicher",
      "3": "Sehr gute Kenntnisse",
      "2": "Gute Kenntnisse",
      "1": "Grundkenntnisse"
    }
  },
  "type": "object",
  "required": [
    "Vorname",
    "Nachname",
    "Hauptrolle",
    "Nationalität",
    "Hauptausbildung",
    "Kurzprofil",
    "Fachwissen_und_Schwerpunkte",
    "Aus_und_Weiterbildung",
    "Trainings_und_Zertifizierungen",
    "Sprachen",
    "Ausgewählte_Referenzprojekte"
  ],
  "additionalProperties": false,
  "properties": {
    "Vorname": {
      "type": "string"
    },
    "Nachname": {
      "type": "string"
    },
    "Hauptrolle": {
      "type": "object",
      "required": ["Titel", "Beschreibung"],
      "properties": {
        "Titel": {
          "type": "string",
          "const": "Hauptrolle",
          "description": "Fixer Titel für die Rollenüberschrift"
        },
        "Beschreibung": {
          "type": "string",
          "description": "Kurzbeschreibung der Hauptrolle in maximal 5-10 Wörtern. Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
        }
      }
    },
    "Nationalität": {
      "type": "string"
    },
    "Hauptausbildung": {
      "type": "string"
    },
    "Kurzprofil": {
      "type": "string",
      "description": "Professionelle Zusammenfassung des Kandidaten in 3. Person Singular (z.B. 'Er verfügt über...', 'Sie bringt mit...'). Soll das Wichtigste kompakt zusammenfassen. Zwischen 50 und 100 Wörter. Nicht zu kurz, aber auch nicht zu lang."
    },
    "Fachwissen_und_Schwerpunkte": {
      "type": "array",
      "minItems": 3,
      "maxItems": 3,
      "description": "IMMER genau 3 Kategorien in dieser Reihenfolge: 1) Projektmethodik, 2) Tech Stack, 3) Weitere Fähigkeiten / Skills",
      "items": [
        {
          "type": "object",
          "required": ["Kategorie", "Inhalt"],
          "properties": {
            "Kategorie": {
              "type": "string",
              "const": "Projektmethodik",
              "description": "Erste Kategorie: Projektmethodik (z.B. Scrum, SAFe, HERMES, Agile, Waterfall, Kanban)"
            },
            "Inhalt": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Liste der Projektmethodiken. Bei fehlenden Informationen: ['! fehlt – bitte prüfen!']"
            }
          }
        },
        {
          "type": "object",
          "required": ["Kategorie", "Inhalt"],
          "properties": {
            "Kategorie": {
              "type": "string",
              "const": "Tech Stack",
              "description": "Zweite Kategorie: Tech Stack (Technologien, Tools, Programmiersprachen, Plattformen)"
            },
            "Inhalt": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Liste der Technologien und Tools. Bei fehlenden Informationen: ['! fehlt – bitte prüfen!']"
            }
          }
        },
        {
          "type": "object",
          "required": ["Kategorie", "Inhalt"],
          "properties": {
            "Kategorie": {
              "type": "string",
              "const": "Weitere Fähigkeiten / Skills",
              "description": "Dritte Kategorie: Weitere Fähigkeiten / Skills (alles andere: Soft Skills, Domain-Wissen, etc.)"
            },
            "Inhalt": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Liste weiterer Skills. Bei fehlenden Informationen: ['! fehlt – bitte prüfen!']"
            }
          }
        }
      ]
    },
    "Aus_und_Weiterbildung": {
      "type": "array",
      "description": "NUR akademische und formale Abschlüsse: Bachelor, Master, PhD, CAS, DAS, MAS, Diplome von Universitäten/Fachhochschulen",
      "items": {
        "type": "object",
        "required": ["Zeitraum", "Institution", "Abschluss"],
        "properties": {
          "Zeitraum": {
            "type": "string",
            "description": "Format: MM/YYYY - MM/YYYY oder MM/YYYY. Bei fehlenden Informationen: ! fehlt – bitte prüfen!"
          },
          "Institution": {
            "type": "string",
            "description": "Name der Bildungsinstitution"
          },
          "Abschluss": {
            "type": "string",
            "description": "Abschlussbezeichnung oder Studiengang"
          }
        }
      }
    },
    "Trainings_und_Zertifizierungen": {
      "type": "array",
      "description": "Kurse, Workshops, Zertifikate, berufliche Weiterbildungen OHNE akademischen Abschluss",
      "items": {
        "type": "object",
        "required": ["Zeitraum", "Institution", "Titel"],
        "properties": {
          "Zeitraum": {
            "type": "string",
            "description": "Format: MM/YYYY - MM/YYYY oder MM/YYYY. Bei fehlenden Informationen: ! fehlt – bitte prüfen!"
          },
          "Institution": {
            "type": "string",
            "description": "Anbieter des Trainings/der Zertifizierung"
          },
          "Titel": {
            "type": "string",
            "description": "Bezeichnung des Trainings oder der Zertifizierung"
          }
        }
      }
    },
    "Sprachen": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["Sprache", "Level"],
        "properties": {
          "Sprache": {
            "type": "string"
          },
          "Level": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5
          }
        }
      }
    },
    "Ausgewählte_Referenzprojekte": {
      "type": "array",
      "description": "WICHTIG: ALLE Referenzprojekte im CV müssen vollständig und inhaltlich detailliert erfasst werden, nicht nur die ersten 3. Jedes Projekt muss alle erforderlichen Felder enthalten.",
      "items": {
        "type": "object",
        "required": [
          "Zeitraum",
          "Rolle",
          "Kunde",
          "Tätigkeiten",
          "Technologien",
          "Methodik"
        ],
        "properties": {
          "Zeitraum": {
            "type": "string",
            "description": "Projektlaufzeit von Start bis Ende im Format MM/YYYY - MM/YYYY (z.B. '01/2023 - 12/2024'). Bei laufenden Projekten: MM/YYYY - Heute. Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
          },
          "Rolle": {
            "type": "string",
            "description": "Spezifische Rolle oder Funktion des Kandidaten im Projekt (z.B. 'Projektleiter', 'Senior Developer', 'Scrum Master', 'Product Owner', 'Technischer Architekt'). Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
          },
          "Kunde": {
            "type": "string",
            "description": "Name des Auftraggebers, Unternehmens oder der Organisation für die das Projekt durchgeführt wurde. Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
          },
          "Tätigkeiten": {
            "type": "array",
            "maxItems": 5,
            "items": {
              "type": "string"
            },
            "description": "Maximal 5 konkrete Tätigkeiten oder Verantwortlichkeiten im Projekt. Fokus auf Ergebnisse und Impact. Bei fehlenden Informationen: ['! fehlt – bitte prüfen!']"
          },
          "Technologien": {
            "type": "string",
            "description": "Kommagetrennte Liste ALLER im Projekt eingesetzten Technologien, Tools, Programmiersprachen und Plattformen (z.B. 'Java, Spring Boot, PostgreSQL, Docker, Kubernetes, Jenkins'). Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
          },
          "Methodik": {
            "type": "string",
            "description": "Spezifische Projektmethodik(en), die im Projekt angewendet wurde(n), kommagetrennt (z.B. 'Scrum', 'SAFe', 'Kanban', 'HERMES', 'Waterfall', 'Agile'). Keine generischen Begriffe wie 'Projektmanagement' oder 'Beratung'. Bei fehlenden Informationen: '! fehlt – bitte prüfen!'"
          }
        }
      }
    }
  }
}
